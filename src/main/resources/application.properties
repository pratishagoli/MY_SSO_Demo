# PostgreSQL Database Configuration
spring.datasource.url=${DATABASE_URL:jdbc:postgresql://localhost:5432/example}
spring.datasource.username=${DB_USERNAME:postgres}
spring.datasource.password=${DB_PASSWORD:pratisha}

# IMPORTANT: This will automatically update your schema to match entity definitions
spring.jpa.hibernate.ddl-auto=update

# Enable SQL logging
spring.jpa.show-sql=true
spring.jpa.properties.hibernate.format_sql=true
logging.level.org.hibernate.SQL=DEBUG
logging.level.org.hibernate.type.descriptor.sql.BasicBinder=TRACE


# Spring Security and Transaction logging
logging.level.org.springframework.security=DEBUG
logging.level.org.springframework.transaction=DEBUG
logging.level.org.springframework.orm.jpa=DEBUG

# Your custom service logging
logging.level.com.example.ssoapp.service.CustomOAuth2UserService=INFO
logging.level.com.example.ssoapp.service.AuthService=INFO
logging.level.com.example.ssoapp.security.jwt=INFO
logging.level.com.example.ssoapp.security.saml=DEBUG
logging.level.org.springframework.security.saml2=DEBUG
logging.level.org.springframework.security.saml2.provider.service=DEBUG
logging.level.org.springframework.security.saml2.provider.service.authentication=DEBUG
logging.level.org.springframework.security.saml2.provider.service.web=DEBUG
logging.level.org.springframework.security.web=DEBUG


# OAuth2 Configuration (use environment variables in production)
spring.security.oauth2.client.registration.miniorange.client-id=${OAUTH_CLIENT_ID:NeXKWs6a9g0lywwLQAoBPwntbNV91HdT}
spring.security.oauth2.client.registration.miniorange.client-secret=${OAUTH_CLIENT_SECRET:rbHqjgFowkLiOvKnURJV4LEUSEFlzWNj}
spring.security.oauth2.client.registration.miniorange.scope=openid,profile,email
spring.security.oauth2.client.registration.miniorange.client-name=MiniOrange
spring.security.oauth2.client.registration.miniorange.provider=miniorange
spring.security.oauth2.client.registration.miniorange.authorization-grant-type=authorization_code
spring.security.oauth2.client.provider.miniorange.issuer-uri=${OAUTH_ISSUER_URI:https://pratisha.xecurify.com/moas/discovery/v2.0/NeXKWs6a9g0lywwLQAoBPwntbNV91HdT}

# MiniOrange JWT Configuration (for manual JWT validation)
app.jwt.miniorange.issuer=${JWT_ISSUER:4rIAZPjSTgKGuylgQvCNenKqZRkHOC6f}
app.jwt.miniorange.certificate=${JWT_CERTIFICATE:-----BEGIN CERTIFICATE-----\
MIID/zCCAuegAwIBAgIJAPmPOnjOfbO/MA0GCSqGSIb3DQEBCwUAMIGVMQswCQYD\
VQQGEwJJTjEUMBIGA1UECAwLTUFIQVJBU0hUUkExDTALBgNVBAcMBFBVTkUxEzAR\
BgNVBAoMCk1JTklPUkFOR0UxEzARBgNVBAsMCk1JTklPUkFOR0UxEzARBgNVBAMM\
Ck1JTklPUkFOR0UxIjAgBgkqhkiG9w0BCQEWE2luZm9AbWluaW9yYW5nZS5jb20w\
HhcNMTYwMTMwMDgyMzE0WhcNMjYwMTI3MDgyMzE0WjCBlTELMAkGA1UEBhMCSU4x\
FDASBgNVBAgMC01BSEFSQVNIVFJBMQ0wCwYDVQQHDARQVU5FMRMwEQYDVQQKDApN\
SU5JT1JBTkdFMRMwEQYDVQQLDApNSU5JT1JBTkdFMRMwEQYDVQQDDApNSU5JT1JB\
TkdFMSIwIAYJKoZIhvcNAQkBFhNpbmZvQG1pbmlvcmFuZ2UuY29tMIIBIjANBgkq\
hkiG9w0BAQEFAAOCAQ8AMIIBCgKCAQEAsSKksJcuQbZm/cw67JJkHvlzrzd3+aPL\
hfqy/FCKj/BmZ7mBZf0s3+89O0rOamsZP1NKzOE29ZL6ONLJHxU48LUbGciZupm/\
wf7dY/Av34uDcZ61ufKz0u17UTxgjLULIWBy//68EOr4Xbm/4bqhmKcB3CclMaom\
0LWeCrqittiLqunVCjFIbxXMT010WiBBnFwqjUqfuMnVLL+HrPPqgPqNhiKDdxBx\
Hk9GDPq2+GEruM1jw7TUjVa+zbhekvdNTbj2Fo2sqf+mIkFLSaS6cHg0UeL7sX0w\
vQFDMwx+hpfRLMcYpFAmRMn3dI2zUnPgwvWeKHrnNOjHVkRTV4hgZQIDAQABo1Aw\
TjAdBgNVHQ4EFgQU85bt1wVl/f2LftBu1jeO499VUbYwHwYDVR0jBBgwFoAU85bt\
1wVl/f2LftBu1jeO499VUbYwDAYDVR0TBAUwAwEB/zANBgkqhkiG9w0BAQsFAAOC\
AQEApenCY36LGThXLAIRIvDQ6XnHELL7Wm53m3tHy+GA2MxUbcTqQC3tgXM+yC18\
EstjRHgWdQMtOcq9ohb5/TqWPoYAYnbg1SG9jEHJ3LLaIMI0idYo+zfPCtwliHLn\
suZXH6ZU3mh/IQEBqINini6R/cSh9BpIjqwXKpjWoegl9XLI/RQ7Bbbya89TUBwm\
5KR3deWXdMZEj/d7hV8XdSWyi2CvWTeHIfkZVhcHg1ues9+Mt3kaBr4Z5/NkQPAN\
jfMdKjZ8tfNTN7PgYAYyRW6C8aXcw+w0zIoGrcO2gVM9/3oR4gHm5MUHOMdAyONk\
g59+T+7NDlN7y4YmVIZQBgHByA==\
-----END CERTIFICATE-----}
# =====================
# SAML CONFIGURATION
# =====================
# Certificate is included in metadata URL, no need for separate certificate file
# spring.security.saml2.relyingparty.registration.miniorange-saml.identityprovider.metadata-uri=https://pratisha.xecurify.com/moas/metadata/saml/379428/432956
# spring.security.saml2.relyingparty.registration.miniorange-saml.entity-id=ssoapp
# Certificate location removed - using certificate from metadata URL
#logging.level.org.springframework.security.web.authentication=DEBUG

# Server port
server.port=${PORT:8080}

# In application.properties
spring.main.allow-bean-definition-overriding=true
